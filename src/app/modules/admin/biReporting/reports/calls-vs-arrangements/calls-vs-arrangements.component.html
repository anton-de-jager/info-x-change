<div class="absolute inset-0 flex min-w-0 flex-col overflow-y-auto" cdkScrollable>
  <div *ngIf="loading" class="loading-overlay">
    <mat-spinner></mat-spinner>
  </div>

  <div class="flex flex-col h-full">
    <!-- First row (50% height) -->
    <div class="flex w-full h-1/2 gap-4 p-4 sm:p-6">
      <!-- Left: 2/3 width -->
      <div class="w-2/3 h-full overflow-hidden">
        <div class="w-100-p overflow-hidden" #pageContainer1>
          <table-dynamic *ngIf="totalHeight1" [tableId]="'995ff045-0ece-46b3-b763-28f6002d7a76'" [source]="'loaded'"
            [height]="totalHeight1" [data]="dataFiltered"></table-dynamic>
        </div>
      </div>

      <!-- Right: 1/3 width -->
      <div class="w-1/3 h-full overflow-hidden">
        <chart-donut *ngIf="labelsDonut&&seriesDonut" [title]="'Distribution of Responses'" [height]="totalHeight1 + 56" [labels]="labelsDonut" [series]="seriesDonut"></chart-donut>        
      </div>
    </div>

    <!-- Second row (50% height) -->
    <div class="w-full h-1/2 p-4 sm:p-6">
      <div class="h-full overflow-hidden">
        <div class="w-100-p overflow-hidden" #pageContainer2>
          <table-dynamic *ngIf="totalHeight2" [tableId]="'37ddb0da-c642-4086-bc94-5c5be7bff7f2'" [source]="'loaded'"
            [height]="totalHeight2" [data]="dataFiltered"></table-dynamic>
        </div>
      </div>
    </div>
  </div>
</div>

<button (click)="openFilterDialog()" mat-mini-fab aria-label="Filter"
  class="fixed top-3 right-20 bg-[#192A64] text-on-primary" style="z-index: 1000">
  <mat-icon svgIcon="feather:filter"></mat-icon>
</button>