<div class="absolute inset-0 flex min-w-0 flex-col overflow-y-auto" cdkScrollable>
  <div *ngIf="loading" class="loading-overlay">
    <mat-spinner></mat-spinner>
  </div>

  <div class="flex flex-col h-full">
    <!-- First row (50% height) -->
    <div class="flex w-full h-1/2 gap-4 p-4 sm:p-6">
      <div class="w-1/2 h-full overflow-hidden">
        <div class="w-100-p overflow-hidden" #pageContainer1>
          <chart-bar-stacked *ngIf="categoriesCallsEffifiency&&seriesCallsEffifiency" [title]="titleCallsEffifiency"
            [height]="totalHeight1 + 56" [categories]="categoriesCallsEffifiency"
            [series]="seriesCallsEffifiency"></chart-bar-stacked>
        </div>
      </div>

      <div class="w-1/2 h-full overflow-hidden">
        <chart-bar-stacked *ngIf="categoriesSmsEffifiency&&seriesSmsEffifiency" [title]="titleSmsEffifiency"
          [height]="totalHeight1 + 56" [categories]="categoriesSmsEffifiency"
          [series]="seriesSmsEffifiency"></chart-bar-stacked>
      </div>
    </div>

    <!-- Second row (50% height) -->
    <div class="flex w-full h-1/2 gap-4 p-4 sm:p-6">
      <div class="w-1/2 h-full overflow-hidden">
        <div class="w-100-p overflow-hidden" #pageContainer2>
          <chart-donut *ngIf="labelsEngagementDistribution&&seriesEngagementDistribution" [title]="titleEngagementDistribution" [height]="totalHeight1 + 56" [labels]="labelsEngagementDistribution" [series]="seriesEngagementDistribution"></chart-donut>        
        </div>
      </div>

      <div class="w-1/2 h-full overflow-hidden">
        <div class="w-100-p overflow-hidden" #pageContainer2>
          <table-dynamic *ngIf="totalHeight2" [tableId]="'9657369d-aa77-472b-8814-d9ae1d1a22b1'" [source]="'loaded'"
            [height]="totalHeight2" [data]="dataFiltered"></table-dynamic>
        </div>
      </div>
    </div>
  </div>
</div>

<button (click)="openFilterDialog()" mat-mini-fab aria-label="Filter"
  class="fixed top-3 right-20 bg-[#192A64] text-on-primary" style="z-index: 1000">
  <mat-icon svgIcon="feather:filter"></mat-icon>
</button>